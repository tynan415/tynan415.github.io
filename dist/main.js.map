{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/index.js"],"names":["canvas","document","getElementById","ctx","getContext","width","height","cellSize","cellGap","numberOfResources","enemiesInterval","frame","gameOver","lvlOver","score","lives","level","winningScore","betweenLvl","gameGrid","defenders","enemies","enemyPositions","projectiles","resources","audio","Audio","src","toggleVolume","addEventListener","volume","play","classList","remove","add","mouse","x","y","canvasPosition","getBoundingClientRect","e","left","top","undefined","controlsBar","Cell","collision","strokeStyle","strokeRect","createGrid","push","handleGameGrid","i","length","draw","Projectile","power","speed","squidImage","Image","drawImage","handleProjectiles","update","j","health","splice","Defender","shooting","timer","currentFrame","columns","rows","frameWidth","frameHeight","maxFrame","column","row","Math","floor","beginPath","rect","fillStyle","closePath","fill","gridPositionX","gridPositionY","defenderCost","handleDefenders","draw_healthbar","indexOf","movement","Enemy","verticalPosition","random","maxHealth","patrickImage","handleEnemies","findThisIndex","gainedResources","amounts","Resource","amount","coinImage","coinColumns","coinRows","handleResources","handleGameStatus","font","fillText","seconds","handleLvl","interval","currentLvl","animate","clearRect","fillRect","setInterval","clearInterval","requestAnimationFrame","playButton","target","first","second","window","modal","btn","span","getElementsByClassName","onclick","style","display","event"],"mappings":"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","file":"main.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./src/index.js\");\n","const canvas = document.getElementById('canvas');\r\nconst ctx = canvas.getContext('2d');\r\ncanvas.width = 900;\r\ncanvas.height = 600;\r\n\r\nconst cellSize = 100;\r\nconst cellGap = 3;\r\nlet numberOfResources = 3000;\r\nlet enemiesInterval = 100;\r\nlet frame = 0;\r\nlet gameOver = false;\r\nlet lvlOver = false;\r\nlet score = 0;\r\nlet lives = 5;\r\nlet level = 1;\r\nlet winningScore = 100;\r\nlet betweenLvl = false;\r\n\r\nconst gameGrid = [];\r\nconst defenders = [];\r\nconst enemies = [];\r\nconst enemyPositions = [];\r\nconst projectiles = [];\r\nconst resources = [];\r\nconst audio = new Audio()\r\naudio.src = './dist/music/clarinetStroll.mp3'\r\n\r\nlet toggleVolume = document.getElementById('muteToggle')\r\ntoggleVolume.addEventListener('click', () => {\r\n\r\n        if(audio.volume > 0){\r\n            audio.play();\r\n            audio.volume = 0\r\n            toggleVolume.classList.remove('fa-volume-up')\r\n            toggleVolume.classList.add('fa-volume-mute')\r\n        }else if(audio.volume === 0){\r\n            audio.volume = 0.8\r\n            audio.play();\r\n            toggleVolume.classList.remove('fa-volume-mute')\r\n            toggleVolume.classList.add('fa-volume-up')\r\n        }\r\n})\r\n\r\nconst mouse = {\r\n    x: 0,\r\n    y: 0,\r\n    width: 0.1,\r\n    height: 0.1,\r\n}\r\nlet canvasPosition = canvas.getBoundingClientRect();\r\ncanvas.addEventListener('mousemove', function(e){\r\n    mouse.x = e.x - canvasPosition.left;\r\n    mouse.y = e.y - canvasPosition.top;\r\n});\r\ncanvas.addEventListener('mouseleave', function(){\r\n    mouse.y = undefined;\r\n    mouse.y = undefined;\r\n});\r\n\r\nconst controlsBar = {\r\n    width: canvas.width,\r\n    height: cellSize,\r\n}\r\nclass Cell {\r\n    constructor(x, y){\r\n        this.x = x;\r\n        this.y = y;\r\n        this.width = cellSize;\r\n        this.height = cellSize;\r\n    }\r\n    draw(){\r\n        if (mouse.x && mouse.y && collision(this, mouse)){\r\n            ctx.strokeStyle = 'yellow';\r\n            ctx.strokeRect(this.x, this.y, this.width, this.height);\r\n        }\r\n    }\r\n}\r\n\r\nfunction createGrid() {\r\n    for (let y = cellSize; y < canvas.height; y += cellSize){\r\n        for (let x = 0; x < canvas.width; x += cellSize){\r\n            gameGrid.push(new Cell(x, y));\r\n        }\r\n    }\r\n}\r\ncreateGrid();\r\nfunction handleGameGrid(){\r\n    for (let i = 0; i < gameGrid.length; i++){\r\n        gameGrid[i].draw();\r\n    }\r\n}\r\n\r\nclass Projectile {\r\n    constructor(x, y){\r\n        this.x = x;\r\n        this.y = y - 30;\r\n        this.width = 40;\r\n        this.height = 40;\r\n        this.power = 20;\r\n        this.speed = -5;\r\n        this.squidImage = new Image();\r\n        this.squidImage.src = './dist/sprites/notes2.png';\r\n    }\r\n    update(){\r\n        this.x += this.speed;\r\n    }\r\n    draw(){\r\n      \r\n        ctx.drawImage(this.squidImage,  this.x, this.y, this.width, this.height)\r\n    }\r\n}\r\nfunction handleProjectiles(){\r\n    for (let i = 0; i < projectiles.length; i++){\r\n        projectiles[i].update();\r\n        projectiles[i].draw();\r\n\r\n        for (let j = 0; j < enemies.length; j++){\r\n            if (enemies[j] && projectiles[i] && collision(projectiles[i], enemies[j])){\r\n                enemies[j].health -= projectiles[i].power;\r\n                projectiles.splice(i, 1);\r\n                i--;\r\n            }\r\n        }\r\n\r\n        if (projectiles[i] && projectiles[i].x < 15){\r\n            projectiles.splice(i, 1);\r\n            i--;\r\n        }\r\n    }\r\n}\r\n\r\nclass Defender {\r\n    constructor(x, y){\r\n        this.x = x;\r\n        this.y = y;\r\n        this.width = cellSize - cellGap * 2;\r\n        this.height = cellSize - cellGap * 2;\r\n        this.shooting = false;\r\n        this.health = 100;\r\n        this.projectiles = [];\r\n        this.timer = 0;\r\n        this.squidImage = new Image();\r\n        this.squidImage.src = './dist/sprites/MrTentacles6.png';\r\n        this.currentFrame = 0;\r\n        this.columns = 15;\r\n        this.rows = 1;\r\n    }\r\n    draw(){\r\n        let frameWidth = this.squidImage.width / this.columns;\r\n        let frameHeight = this.squidImage.height / this.rows;\r\n        \r\n        if (frame % 9 === 0) {\r\n            this.currentFrame++;\r\n        }\r\n        let maxFrame = this.columns * this.rows - 1;\r\n        if (this.currentFrame > maxFrame){\r\n            this.currentFrame = 0;\r\n        }\r\n        let column = this.currentFrame % this.columns;\r\n        let row = Math.floor(this.currentFrame / this.columns);\r\n           \r\n        ctx.drawImage(this.squidImage, column * frameWidth, row * frameHeight, frameWidth, frameHeight, this.x, this.y, this.width, this.height)\r\n    }\r\n    draw_healthbar() {\r\n        ctx.beginPath();\r\n        ctx.rect(this.x , this.y, this.width * (this.health/100), 5);\r\n        if(this.health > 75){\r\n            ctx.fillStyle=\"green\"\r\n        }else if(this.health > 50){\r\n            ctx.fillStyle=\"gold\"\r\n        }else{\r\n          ctx.fillStyle=\"red\";\r\n        }\r\n        ctx.closePath();\r\n        ctx.fill();\r\n    }\r\n    update(){\r\n        if (this.shooting){\r\n            this.timer++;\r\n            if (this.timer % 70 === 0){\r\n                projectiles.push(new Projectile(this.x + 75, this.y + 50));\r\n            }\r\n        } else {\r\n            this.timer = 0;\r\n        }\r\n    }\r\n}\r\ncanvas.addEventListener('click', function(){\r\n    const gridPositionX = mouse.x  - (mouse.x % cellSize) + cellGap;\r\n    const gridPositionY = mouse.y - (mouse.y % cellSize) + cellGap;\r\n    if (gridPositionY < cellSize) return;\r\n    for (let i = 0; i < defenders.length; i++){\r\n        if (defenders[i].x === gridPositionX && defenders[i].y === gridPositionY) return;\r\n    }\r\n    let defenderCost = 100;\r\n    if (numberOfResources >= defenderCost){\r\n        defenders.push(new Defender(gridPositionX, gridPositionY));\r\n        numberOfResources -= defenderCost;\r\n    }\r\n});\r\nfunction handleDefenders() {\r\n    for (let i = 0; i < defenders.length; i++){\r\n        defenders[i].draw();\r\n        defenders[i].draw_healthbar();\r\n        defenders[i].update();\r\n        if (enemyPositions.indexOf(defenders[i].y) !== -1){\r\n            defenders[i].shooting = true;\r\n        } else {\r\n            defenders[i].shooting = false;\r\n        }\r\n        for (let j = 0; j < enemies.length; j++){\r\n            if (defenders[i] && collision(defenders[i], enemies[j])){\r\n                enemies[j].movement = 0;\r\n                defenders[i].health -= 1;\r\n            }\r\n            if (defenders[i] && defenders[i].health <= 0){\r\n                defenders.splice(i, 1);\r\n                i--;\r\n                enemies[j].movement = enemies[j].speed;\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\nclass Enemy {\r\n    constructor(verticalPosition){\r\n        this.x = -100;\r\n        this.y = verticalPosition;\r\n        this.width = cellSize - cellGap * 2;\r\n        this.height = cellSize - cellGap * 2;\r\n        this.speed = Math.random() * 0.2 + 0.4;\r\n        this.movement = this.speed;\r\n        this.health = 100;\r\n        this.maxHealth = this.health;\r\n        this.patrickImage = new Image();\r\n        this.patrickImage.src = './dist/sprites/PatrickRun2.png';\r\n        this.currentFrame = 0;\r\n        this.columns = 10;\r\n        this.rows = 1;\r\n    }\r\n    update(){\r\n        this.x += this.movement;\r\n    }\r\n    draw(){\r\n        let frameWidth = this.patrickImage.width / this.columns;\r\n        let frameHeight = this.patrickImage.height / this.rows;\r\n        \r\n        if (frame % 10 === 0) {\r\n            this.currentFrame++;\r\n        }\r\n        let maxFrame = this.columns * this.rows - 1;\r\n        if (this.currentFrame > maxFrame) {\r\n            this.currentFrame = 0;\r\n        }\r\n        let column = this.currentFrame % this.columns;\r\n        let row = Math.floor(this.currentFrame / this.columns);\r\n\r\n        ctx.drawImage(this.patrickImage, column * frameWidth, row * frameHeight, frameWidth, frameHeight, this.x, this.y, this.width, this.height)\r\n    }\r\n\r\n    draw_healthbar() {\r\n        ctx.beginPath();\r\n        ctx.rect(this.x, this.y, this.width * (this.health/100), 5);\r\n        if (this.health > 75) {\r\n            ctx.fillStyle=\"green\"\r\n        } else if (this.health > 50){\r\n            ctx.fillStyle=\"gold\"\r\n        } else {\r\n          ctx.fillStyle=\"red\";\r\n        }\r\n        ctx.closePath();\r\n        ctx.fill();\r\n    }\r\n}\r\nfunction handleEnemies(){\r\n    for (let i = 0; i < enemies.length; i++){\r\n        enemies[i].draw();\r\n        enemies[i].draw_healthbar();\r\n        enemies[i].update();\r\n        if (enemies[i].x > canvas.width -90){\r\n            lives -= 1;\r\n            const findThisIndex = enemyPositions.indexOf(enemies[i].y);\r\n            enemyPositions.splice(findThisIndex, 1)\r\n            enemies.splice(i, 1)\r\n            if (lives === 0)  gameOver = true;\r\n        }\r\n        if (enemies[i] && enemies[i].health <= 0){\r\n            let gainedResources = enemies[i].maxHealth/10;\r\n            numberOfResources += gainedResources;\r\n            score += gainedResources;\r\n            const findThisIndex = enemyPositions.indexOf(enemies[i].y);\r\n            enemyPositions.splice(findThisIndex, 1);\r\n            enemies.splice(i, 1);\r\n            i--;\r\n          }\r\n    }\r\n    if (frame % enemiesInterval === 0 && score < winningScore){\r\n        let verticalPosition = Math.floor(Math.random() * 5 + 1) * cellSize + cellGap;\r\n        enemies.push(new Enemy(verticalPosition));\r\n        enemyPositions.push(verticalPosition);\r\n        if (enemiesInterval > 120) enemiesInterval -= 50;\r\n    }\r\n}\r\n\r\nconst amounts = [20, 30, 40];\r\nclass Resource {\r\n    constructor(){\r\n        this.x = Math.random() * (canvas.width - cellSize);\r\n        this.y = (Math.floor(Math.random() * 5) + 1) * cellSize + 25;\r\n        this.width = cellSize * 0.6;\r\n        this.height = cellSize * 0.6;\r\n        this.amount = amounts[Math.floor(Math.random() * amounts.length)];\r\n        this.coinImage = new Image();\r\n        this.coinImage.src = './dist/sprites/DogeCoinSprite.png';\r\n        this.currentFrame = 0;\r\n        this.coinColumns = 6;\r\n        this.coinRows = 8;\r\n    }\r\n    \r\n    draw(){\r\n        let frameWidth = this.coinImage.width / this.coinColumns;\r\n        let frameHeight = this.coinImage.height / this.coinRows;\r\n        \r\n        if (frame % 4 === 0) {\r\n            this.currentFrame++;\r\n        }\r\n        let maxFrame = this.coinColumns * this.coinRows - 1;\r\n        if (this.currentFrame > maxFrame){\r\n            this.currentFrame = 0;\r\n        }\r\n        let column = this.currentFrame % this.coinColumns;\r\n        let row = Math.floor(this.currentFrame / this.coinColumns);\r\n           \r\n        ctx.drawImage(this.coinImage, column * frameWidth, row * frameHeight, frameWidth, frameHeight, this.x, this.y, this.width, this.height)\r\n    }\r\n}\r\nfunction handleResources() {\r\n    if (frame % 400 === 0 && score < winningScore){\r\n        resources.push(new Resource());\r\n    }\r\n    for (let i = 0; i < resources.length; i++){\r\n        resources[i].draw();\r\n        if (resources[i] && mouse.x && mouse.y && collision(resources[i], mouse)){\r\n            numberOfResources += resources[i].amount;\r\n            resources.splice(i, 1);\r\n            i--;\r\n        }\r\n    }\r\n}\r\n\r\nfunction handleGameStatus() {\r\n    ctx.fillStyle = 'gold';\r\n    ctx.font = '30px Arial';\r\n    ctx.fillText('Score: ' + score, 270, 40);\r\n    ctx.fillText('DogeCoins: ' + numberOfResources, 20, 80);\r\n    ctx.fillText('Lives: ' + lives, 20, 40)\r\n    ctx.fillText('Level: ' + level, 150, 40)\r\n\r\n    if (gameOver) {\r\n        ctx.fillStyle = 'black';\r\n        ctx.font = '90px Arial';\r\n        ctx.fillText('GAME OVER', 135, 330);\r\n    }\r\n}\r\n\r\n\r\nlet seconds = 5;\r\nfunction handleLvl() {\r\n     \r\n        ctx.fillStyle = 'gold';\r\n        ctx.font = '60px Arial';-\r\n        ctx.fillText('LEVEL ' + level + ' COMPLETE' , 160, 300);\r\n      \r\n       ctx.fillStyle = 'gold';\r\n        ctx.font = '45px Arial';\r\n        ctx.fillText('next level in: ' + (seconds), 300, 350);  \r\n}\r\n\r\n\r\nlet interval;\r\nlet currentLvl;\r\n\r\nfunction animate() {\r\n    \r\n    ctx.clearRect(0, 0, canvas.width, canvas.height);\r\n    ctx.fillStyle = \"rgba(255, 255, 255, 0.5)\";\r\n    ctx.fillRect(0, 0, controlsBar.width, controlsBar.height);\r\n\r\n    handleDefenders();\r\n    handleGameGrid();  \r\n    handleResources();\r\n    handleProjectiles();\r\n    \r\n    handleEnemies();\r\n    handleGameStatus();\r\n\r\n\r\n    if (frame === 0) {\r\n        interval = setInterval(() => {\r\n            if (score >= winningScore && enemies.length === 0) {\r\n                seconds -= 1;\r\n            }\r\n        }, 1000)\r\n\r\n    }\r\n    frame++;\r\n\r\n    if (seconds < 0) {\r\n        clearInterval(interval)\r\n        seconds = 5;\r\n        winningScore += winningScore;\r\n        if (enemiesInterval > 10) {\r\n            enemiesInterval -= 10;\r\n        }\r\n        level += 1;\r\n        frame = 0;\r\n    };\r\n   \r\n    \r\n    if (score >= winningScore && enemies.length === 0) { \r\n        handleLvl();\r\n    }\r\n    if (!gameOver) requestAnimationFrame(animate);\r\n}\r\n\r\nlet playButton = document.getElementById('startBtn')\r\n\r\nplayButton.addEventListener('click', (e) => {\r\n    animate();\r\n    e.target.classList.add('hidden')\r\n})\r\n\r\nfunction collision(first, second) {\r\n    if (    !(first.x > second.x + second.width ||\r\n                first.x + first.width < second.x ||\r\n                first.y > second.y + second.height ||\r\n                first.y + first.height < second.y)\r\n    ) {\r\n        return true;\r\n    };\r\n};\r\n\r\nwindow.addEventListener('resize', function(){\r\n    canvasPosition = canvas.getBoundingClientRect();\r\n})\r\n\r\nconst modal = document.getElementById(\"myModal\");\r\nconst btn = document.getElementById(\"myBtn\");\r\nconst span = document.getElementsByClassName(\"close\")[0];\r\n\r\nbtn.onclick = function() {\r\n  modal.style.display = \"block\";\r\n}\r\n\r\nspan.onclick = function() {\r\n  modal.style.display = \"none\";\r\n}\r\n\r\nwindow.onclick = function(event) {\r\n  if (event.target == modal) {\r\n    modal.style.display = \"none\";\r\n  }\r\n}"],"sourceRoot":""}